{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}BISAG-N Document Generator{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: #f5f5f5;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        /* ---------- Shared preview / result styles ---------- */
        .preview-container {
            max-width: 900px;
            margin: auto;
            background: white;
            padding: 50px 60px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            font-family: 'Times New Roman', serif;
        }
        .header-section {
            text-align: center;
            margin-bottom: 30px;
        }
        .header-line {
            font-weight: bold;
            font-size: 14px;
            line-height: 1.6;
        }
        .date-section {
            text-align: right;
            font-weight: bold;
            margin-bottom: 15px;
        }
        .subject-section {
            font-weight: bold;
            margin-bottom: 20px;
        }
        .body-section {
            text-align: justify;
            line-height: 1.8;
            margin-bottom: 30px;
        }
        .from-section {
            text-align: right;
            font-weight: bold;
            margin: 40px 0 30px;
        }
        .action-buttons {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px dashed #dee2e6;
        }
        .action-buttons .btn { margin: 0 5px; border-radius: 4px; }
        .btn-danger  { background: #dc3545; border: none; }
        .btn-success { background: #28a745; border: none; }
        .btn-secondary { background: #6c757d; border: none; }

        /* ---------- Spinner overlay ---------- */
        .spinner-overlay {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.35);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }
        .spinner-overlay.active { display: flex; }
        .spinner-overlay .spinner-border { width: 3rem; height: 3rem; }

        @media print {
            .action-buttons { display: none; }
            body { background: white; }
            .preview-container { box-shadow: none; padding: 30px; }
        }

        {% block extra_css %}{% endblock %}
    </style>
</head>
<body>

<!-- Global loading spinner -->
<div id="globalSpinner" class="spinner-overlay">
    <div class="text-center text-white">
        <div class="spinner-border text-light" role="status"></div>
        <div class="mt-2 fw-bold" id="spinnerText">Generating with AI...</div>
    </div>
</div>

{% block content %}{% endblock %}

<script>
/* Show / hide spinner */
function showSpinner(msg) {
    document.getElementById('spinnerText').textContent = msg || 'Generating with AI...';
    document.getElementById('globalSpinner').classList.add('active');
}
function hideSpinner() {
    document.getElementById('globalSpinner').classList.remove('active');
}

{% block extra_js %}{% endblock %}
</script>

</body>
</html>
